{% extends 'recipes_app/base.html' %}

{% block index %}{% endblock %}
{% block content %}
<style>

body {
    background: #FFFFFF;
}
.title {
    text-align: right;
    margin: 35px;
}
.title1 {
    text-align: center;
    margin: 35px;
}
h3 {
    text-align: right;
}
.textcols {
    background: #F0F8FF;
    flex-direction: row;
    display: grid;
    grid-template-columns: 500px 500px 500px;
}

.column {
	flex-basis: 100%;
    vertical-align: top;
    background: #FFFFFF;
    padding-left: 15px;
    margin: 10px;
    border: 1px dotted #939;
    height: 200px;
    flex: 0 0 calc(25% - 5px);
}

.pagination {
    margin-top: 30px;
    text-align: center;
    font-size: 20px;
}

.pagination_num {
    height: 25px;
    width: 25px;
    background-color: #F0F8FF;
    border-radius: 50%;
    display: inline-block;
}

.input_button {
    margin: 0 auto;
    display: block;
    margin-top: 50px;
    background: #DAE1F5;
    padding: 2px 1em 0 1em;
}

.input_order_button{
    margin: 0 auto;
    display: block;
    margin-top: 50px;
    margin-bottom: 50px;
    background: #DAE1F5;
    padding: 5px 2em 0 2em;
    font-size: 20px;
}

.pagination_num {
	text-align: center;
    height: 25px;
    width: 25px;
    background-color: #F0F8FF;
    border-radius: 50%;
    display: inline-block;
}
</style>

<h1>{{  title  }}</h1>
{%  for cat in сategory  %}
	<a href="{% url 'categories_list'  %}">{{ cat }}</a>
{%  endfor  %}
<br><br>
<div>
{%  for el in page_obj  %}
	{% if el.is_published  %}
		{% if not forloop.first  %}
			<hr>
		{%  endif  %}
		<div>
			{{ el.id }}
			<a href="{% url 'recipe' el.id %}">{{ el.title }}</a><br>
			Ingredients: {{ el.ingredients }} <br>
			Time: {{ el.cooking_time }}
			Quantity of servings: {{ el.quantity_of_servings }}
			<a href="{% url 'recipe' el.id %}">Подробнее</a>
		</div>
	{%  endif  %}
{%  endfor  %}
</div>

<div class="pagination" >
<nav>
{%  if page_obj.has_other_pages  %}
    {%  if page_obj.has_previous %}
        <a class="pagination_num" href="?page={{page_obj.previous_page_number}}">&lt</a>
    {%  endif  %}

    {%  for page in page_obj.paginator.page_range  %}
        {%  if page_obj.number == page  %}
            {{ page_obj.number }}
        {%  elif page >= page_obj.number|add:-2  and page <= page_obj.number|add:2 %}
            <a class="pagination_num" href="?page={{page}}">{{page}}</a>
        {%  endif  %}
    {%  endfor  %}

    {%  if page_obj.has_next %}
        <a class="pagination_num" href="?page={{page_obj.next_page_number}}">&gt</a>
    {%  endif  %}
{%  endif  %}
</nav>
</div>

{% endblock %}
